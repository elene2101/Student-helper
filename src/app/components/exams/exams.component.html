<div class="flex flex-col lg:flex-row gap-8 p-4 md:p-6 overflow-hidden">
  <div class="w-full lg:w-1/2 flex flex-col h-full shadow-md rounded-xl">
    <mat-tab-group class="flex-1 overflow-hidden">
      <mat-tab label="·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî">
        <ul class="space-y-4 p-4 pb-12 max-h-[600px] overflow-y-auto">
          @for (exam of upcomingExams$ | async; track exam.id) {
          <li
            class="p-5 rounded-xl flex flex-col sm:flex-row justify-between shadow-xl h-auto sm:h-[230px] gap-3"
            [ngClass]="{
              'bg-blue-50': selectedExam?.id === exam.id,
              'bg-white': selectedExam?.id !== exam.id
            }"
          >
            <div class="flex flex-col gap-2 w-full sm:w-3/4 overflow-hidden">
              <h1 class="font-semibold text-lg">
                {{ exam.subject.name }}
              </h1>
              <p class="text-gray-600 border-b pb-2 border-gray-200 text-sm">
                üìÖ {{ exam.date | date : "shortDate" }} -
                {{ exam.time | date : "shortTime" }}
              </p>

              @if(exam.description){
              <p
                class="text-gray-600 text-sm line-clamp-2 p-1 px-3 pb-1 rounded-xl"
                [innerHTML]="exam.description"
              ></p>
              }
              <p class="text-gray-800 mt-2 text-sm sm:text-base">
                {{ exam.location === locationType.Online ? "üíª" : "üè´" }}
                {{ exam.location }}
              </p>
              @if(exam.type){
              <p class="text-gray-800 font-bold mt-[-4px] text-sm sm:text-base">
                {{ exam.type }}
              </p>
              }
            </div>

            <div
              class="flex sm:flex-col justify-between sm:justify-start h-auto sm:h-full items-end sm:items-end gap-2"
            >
              <button class="edit-btn" (click)="openAddExamComponent(exam)">
                <mat-icon>edit</mat-icon>
              </button>
              <button class="delete-btn" (click)="deleteExam(exam)">
                <mat-icon>delete</mat-icon>
              </button>
            </div>
          </li>
          }
        </ul>
      </mat-tab>

      <mat-tab label="·É©·Éê·Éë·Éê·É†·Éî·Éë·É£·Éö·Éò">
        <ul class="space-y-4 p-4 pb-12 max-h-[600px] overflow-y-auto">
          @for (exam of completedExams$ | async; track exam.id) {
          <li
            class="p-5 rounded-xl flex flex-col sm:flex-row justify-between shadow-xl h-auto sm:h-[230px] gap-3"
            [ngClass]="{
              'bg-blue-50': selectedExam?.id === exam.id,
              'bg-white': selectedExam?.id !== exam.id
            }"
          >
            <div class="flex flex-col gap-2 w-full sm:w-3/4 overflow-hidden">
              <h1 class="font-semibold text-lg">
                {{ exam.subject.name }}
              </h1>
              <p class="text-gray-600 border-b pb-2 border-gray-200 text-sm">
                üìÖ {{ exam.date | date : "shortDate" }} -
                {{ exam.time | date : "shortTime" }}
              </p>

              @if(exam.description){
              <p
                class="text-gray-600 text-sm line-clamp-2 p-1 px-3 pb-1 rounded-xl"
                [innerHTML]="exam.description"
              ></p>
              }
              <p class="text-gray-800 mt-2 text-sm sm:text-base">
                {{ exam.location === locationType.Online ? "üíª" : "üè´" }}
                {{ exam.location }}
              </p>
              @if(exam.type){
              <p class="text-gray-800 font-bold mt-[-4px] text-sm sm:text-base">
                {{ exam.type }}
              </p>
              }
            </div>

            <div
              class="flex sm:flex-col justify-between sm:justify-start h-auto sm:h-full items-end sm:items-end gap-2"
            >
              <button class="edit-btn" (click)="openAddExamComponent(exam)">
                <mat-icon>edit</mat-icon>
              </button>
              <button class="delete-btn" (click)="deleteExam(exam)">
                <mat-icon>delete</mat-icon>
              </button>
            </div>
          </li>
          }
        </ul>
      </mat-tab>
    </mat-tab-group>

    <button
      (click)="openAddExamComponent(null)"
      class="w-58 primary-btn flex self-center justify-center m-8"
      [disabled]="showAddExam && !selectedExam"
    >
      <span class="mr-4">+</span> ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê
    </button>
  </div>

  <div class="w-full lg:w-1/2">
    @if(showAddExam){
    <app-add-exam
      [examData]="selectedExam"
      (closeAddExamEvent)="closeExamAdd()"
    ></app-add-exam>
    }
  </div>
</div>
